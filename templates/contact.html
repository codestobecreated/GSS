{% extends 'base.html' %}

{% block title %}Contact Us - GSS CAR Makeovers{% endblock %}

{% block content %}

<!-- Page Hero -->
<section class="relative h-96 flex items-center justify-center overflow-hidden">
    <div class="absolute inset-0 z-0">
        <img src="https://images.unsplash.com/photo-1423666639041-f56000c27a9a?q=80&w=1920&auto=format&fit=crop" 
             alt="Contact" 
             class="w-full h-full object-cover">
        <div class="absolute inset-0 bg-dark/80"></div>
    </div>
    
    <div class="container mx-auto px-4 lg:px-8 z-10 text-center">
        <h1 class="text-5xl md:text-6xl font-bold font-poppins mb-4">
            Get in <span class="text-primary">Touch</span>
        </h1>
        <p class="text-xl text-gray-300 max-w-2xl mx-auto">
            Ready to transform your vehicle? Contact us today for a free consultation
        </p>
    </div>
</section>

<!-- Contact Section -->
<section class="py-20 bg-dark">
    <div class="container mx-auto px-4 lg:px-8">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
            
            <!-- Contact Form -->
            <div>
                <h2 class="text-3xl font-bold font-poppins mb-6">Send Us a Message</h2>
                <form id="contact-form" method="POST" action="{% url 'contact_submit' %}" class="space-y-6">
                    {% csrf_token %}
                    
                    <div>
                        <label class="block text-gray-300 mb-2 font-medium">Name *</label>
                        <input type="text" 
                               name="name" 
                               required 
                               class="w-full px-4 py-3 bg-grey/50 border border-grey/30 rounded-lg focus:outline-none focus:border-primary transition-colors text-white">
                    </div>
                    
                    <div>
                        <label class="block text-gray-300 mb-2 font-medium">Email *</label>
                        <input type="email" 
                               name="email" 
                               required 
                               class="w-full px-4 py-3 bg-grey/50 border border-grey/30 rounded-lg focus:outline-none focus:border-primary transition-colors text-white">
                    </div>
                    
                    <div>
                        <label class="block text-gray-300 mb-2 font-medium">Phone *</label>
                        <input type="tel" 
                               name="phone" 
                               required 
                               class="w-full px-4 py-3 bg-grey/50 border border-grey/30 rounded-lg focus:outline-none focus:border-primary transition-colors text-white">
                    </div>
                    
                    <div>
                        <label class="block text-gray-300 mb-2 font-medium">Service Interest *</label>
                        <select name="service" 
                                required 
                                class="w-full px-4 py-3 bg-grey/50 border border-grey/30 rounded-lg focus:outline-none focus:border-primary transition-colors text-white">
                            <option value="">Select a Service</option>
                            <option value="Ceramic Coating">Ceramic Coating</option>
                            <option value="Paint Protection Film">Paint Protection Film</option>
                            <option value="Vehicle Wraps">Vehicle Wraps</option>
                            <option value="Interior Customization">Interior Customization</option>
                            <option value="Detailing">Detailing & Polishing</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-gray-300 mb-2 font-medium">Preferred Date</label>
                        <input type="date" 
                               name="booking_date" 
                               class="w-full px-4 py-3 bg-grey/50 border border-grey/30 rounded-lg focus:outline-none focus:border-primary transition-colors text-white">
                    </div>
                    
                    <div>
                        <label class="block text-gray-300 mb-2 font-medium">Message</label>
                        <textarea name="message" 
                                  rows="4" 
                                  class="w-full px-4 py-3 bg-grey/50 border border-grey/30 rounded-lg focus:outline-none focus:border-primary transition-colors text-white"></textarea>
                    </div>
                    
                    <input type="hidden" name="category" value="General Inquiry">
                    
                    <button type="submit" 
                            class="w-full bg-primary hover:bg-primary/90 text-white px-8 py-4 rounded-lg font-semibold text-lg transition-all duration-300 transform hover:scale-105">
                        Send Message
                    </button>
                </form>
                
                <div id="form-message" class="mt-6 hidden"></div>
            </div>
            
            <!-- Contact Info -->
            <div>
                <h2 class="text-3xl font-bold font-poppins mb-6">Contact Information</h2>
                
                <div class="space-y-6 mb-12">
                    <div class="flex items-start space-x-4">
                        <div class="w-12 h-12 bg-primary/20 rounded-lg flex items-center justify-center flex-shrink-0">
                            <i class="fas fa-map-marker-alt text-primary text-xl"></i>
                        </div>
                        <div>
                            <h3 class="font-bold text-lg mb-1">Address</h3>
                            <p class="text-gray-400">123 Auto Street, Car City, CC 12345</p>
                        </div>
                    </div>
                    
                    <div class="flex items-start space-x-4">
                        <div class="w-12 h-12 bg-primary/20 rounded-lg flex items-center justify-center flex-shrink-0">
                            <i class="fas fa-phone text-primary text-xl"></i>
                        </div>
                        <div>
                            <h3 class="font-bold text-lg mb-1">Phone</h3>
                            <p class="text-gray-400">+1 (555) 123-4567</p>
                        </div>
                    </div>
                    
                    <div class="flex items-start space-x-4">
                        <div class="w-12 h-12 bg-primary/20 rounded-lg flex items-center justify-center flex-shrink-0">
                            <i class="fas fa-envelope text-primary text-xl"></i>
                        </div>
                        <div>
                            <h3 class="font-bold text-lg mb-1">Email</h3>
                            <p class="text-gray-400">info@gsscar.com</p>
                        </div>
                    </div>
                    
                    <div class="flex items-start space-x-4">
                        <div class="w-12 h-12 bg-primary/20 rounded-lg flex items-center justify-center flex-shrink-0">
                            <i class="fas fa-clock text-primary text-xl"></i>
                        </div>
                        <div>
                            <h3 class="font-bold text-lg mb-1">Business Hours</h3>
                            <p class="text-gray-400">Monday - Saturday: 9:00 AM - 6:00 PM</p>
                            <p class="text-gray-400">Sunday: Closed</p>
                        </div>
                    </div>
                </div>
                
                <!-- Social Media -->
                <div>
                    <h3 class="text-xl font-bold font-poppins mb-4">Follow Us</h3>
                    <div class="flex space-x-4">
                        <a href="#" class="w-12 h-12 bg-grey/50 rounded-full flex items-center justify-center hover:bg-primary transition-colors duration-300">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="#" class="w-12 h-12 bg-grey/50 rounded-full flex items-center justify-center hover:bg-primary transition-colors duration-300">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="#" class="w-12 h-12 bg-grey/50 rounded-full flex items-center justify-center hover:bg-primary transition-colors duration-300">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="w-12 h-12 bg-grey/50 rounded-full flex items-center justify-center hover:bg-primary transition-colors duration-300">
                            <i class="fab fa-youtube"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Map Section -->
<section class="py-0">
    <div class="w-full h-96 bg-grey/30 flex items-center justify-center">
        <div class="text-center">
            <i class="fas fa-map-marked-alt text-primary text-5xl mb-4"></i>
            <p class="text-gray-400 text-lg">Google Maps Integration</p>
            <p class="text-gray-500 text-sm">Add your Google Maps embed code here</p>
        </div>
    </div>
</section>

<!-- WhatsApp Float Button -->
<a href="https://wa.me/15551234567" 
   target="_blank" 
   class="fixed bottom-8 right-8 w-16 h-16 bg-green-500 hover:bg-green-600 rounded-full flex items-center justify-center shadow-lg transition-all duration-300 transform hover:scale-110 z-50">
    <i class="fab fa-whatsapp text-white text-3xl"></i>
</a>

{% endblock %}

{% block extra_js %}
<script>
    const contactForm = document.getElementById('contact-form');
    const formMessage = document.getElementById('form-message');
    
    contactForm.addEventListener('submit', async (e) => {
        e.preventDefault();
        
        const submitBtn = contactForm.querySelector('button[type="submit"]');
        const originalText = submitBtn.innerHTML;
        submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i> Sending...';
        submitBtn.disabled = true;
        
        const formData = new FormData(contactForm);
        
        try {
            const response = await fetch('{% url "contact_submit" %}', {
                method: 'POST',
                body: formData,
                headers: {
                    'X-Requested-With': 'XMLHttpRequest'
                }
            });
            
            const result = await response.json();
            
            if (response.ok) {
                formMessage.className = 'mt-6 bg-green-500/20 border border-green-500 text-green-500 px-6 py-4 rounded-lg';
                formMessage.innerHTML = '<i class="fas fa-check-circle mr-2"></i> ' + result.message;
                formMessage.classList.remove('hidden');
                contactForm.reset();
            } else {
                formMessage.className = 'mt-6 bg-red-500/20 border border-red-500 text-red-500 px-6 py-4 rounded-lg';
                formMessage.innerHTML = '<i class="fas fa-exclamation-circle mr-2"></i> Please check your input and try again.';
                formMessage.classList.remove('hidden');
            }
        } catch (error) {
            formMessage.className = 'mt-6 bg-red-500/20 border border-red-500 text-red-500 px-6 py-4 rounded-lg';
            formMessage.innerHTML = '<i class="fas fa-exclamation-circle mr-2"></i> Connection error. Please try again.';
            formMessage.classList.remove('hidden');
        } finally {
            submitBtn.innerHTML = originalText;
            submitBtn.disabled = false;
        }
    });
</script>
{% endblock %}
